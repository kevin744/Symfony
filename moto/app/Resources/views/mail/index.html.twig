{% extends 'base.html.twig' %}

{% block body %}
    <h1>Mails list</h1>
    <div class="row">
        <div class="col-lg-6 col-sm-12">
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Inbox</h3>

                <div class="box-tools pull-right">
                </div>
                <!-- /.box-tools -->
            </div>
            <!-- /.box-header -->
            <div class="box-body no-padding">

                <div class="table-responsive mailbox-messages">
                    <table class="table table-hover table-striped">
                        <tbody>
                        {% for r in received_mails %}
                        <tr>
                            <td class="mailbox-name"><a href="{{ path('mails_show', {'id':r.id}) }}">{{ r.createdBy.username }}</a></td>
                            <td class="mailbox-subject"><b>{{ r.subject }}</b> - {{ r.body|slice(0,20) }}...</td>
                            <td class="mailbox-attachment">
                                {% if not r.isRead %}
                                    <span data-toggle="tooltip" title="" class="badge bg-green" data-original-title="New Messages">new</span>
                                {% endif %}
                            </td>
                            <td class="mailbox-date">{{ r.createdAt|date('d/m/y H:m:i') }}</td>
                        </tr>
                        {% endfor %}

                        </tbody>
                    </table>
                    <!-- /.table -->
                </div>
                <!-- /.mail-box-messages -->
            </div>
            <!-- /.box-body -->
            <div class="box-footer no-padding">

            </div>
        </div>
    </div>




        <div class="col-lg-6 col-sm-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Outbox</h3>

                    <div class="box-tools pull-right">
                    </div>
                    <!-- /.box-tools -->
                </div>
                <!-- /.box-header -->
                <div class="box-body no-padding">

                    <div class="table-responsive mailbox-messages">
                        <table class="table table-hover table-striped">
                            <tbody>
                            {% for m in mails %}
                                <tr>
                                    <td class="mailbox-name"><a href="{{ path('mails_show', {'id':m.id}) }}">{{ m.sendTo.username }}</a></td>
                                    <td class="mailbox-subject"><b>{{ m.subject }}</b> - {{ m.body|slice(0,20) }}...
                                    </td>
                                    <td class="mailbox-attachment">
                                        {% if not m.isRead %}
                                            <span data-toggle="tooltip" title="" class="badge bg-green" data-original-title="New Messages">new</span>
                                        {% endif %}
                                    </td>
                                    <td class="mailbox-date">{{ m.createdAt|date('d/m/y H:m:i') }}</td>
                                </tr>
                            {% endfor %}

                            </tbody>
                        </table>
                        <!-- /.table -->
                    </div>
                    <!-- /.mail-box-messages -->
                </div>
                <!-- /.box-body -->
                <div class="box-footer no-padding">

                </div>
            </div>
        </div>
    </div>
{% endblock %}
